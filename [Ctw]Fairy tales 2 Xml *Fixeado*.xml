<map proto="1.3.0">
<name>Fairy Tales 2: A Tale or Two</name>
<version>1.3.3</version>
<objective>
Take the enemy's wool located in bedrock castles on the enemy's side and place it in your victory monument.
</objective>
<authors>
<author>D347HxD</author>
</authors>
<contributors>
<contributor contribution="Team Spawn Beautification">IM_A_H0B0</contributor>
<contributor contribution="Map Design">GabeisAwesome199</contributor>
</contributors>
<teams>
<team color="blue" max="32">Blue Team</team>
<team color="dark red" max="32">Red Team</team>
</teams>
<rules>
<rule>
You many not make lava curtains near the wool rooms or across entire lanes.
</rule>
</rules>
<spawns>
<spawn team="blue" yaw="0">
<cylinder base="-51,7,-94" radius="2.5" height="0"/>
</spawn>
<spawn team="red" yaw="180">
<cylinder base="-51,7,84" radius="2.5" height="0"/>
</spawn>
<default yaw="270">
<cylinder base="59.5,12,-4.5" radius="4" height="0"/>
</default>
</spawns>
<filters>
<filter name="only-blue" parents="deny-players deny-world">
<allow>
<team>blue</team>
</allow>
</filter>
<filter name="only-red" parents="deny-players deny-world">
<allow>
<team>red</team>
</allow>
</filter>
<filter name="only-red-usage">
<not>
<all>
<any>
<block>chest</block>
<block>workbench</block>
</any>
<team>blue</team>
</all>
</not>
</filter>
<filter name="only-blue-usage">
<not>
<all>
<any>
<block>chest</block>
<block>workbench</block>
</any>
<team>red</team>
</all>
</not>
</filter>
<filter name="deny-lava">
<not>
<block>lava</block>
<block>stationary lava</block>
</not>
</filter>
<filter name="no-void" parents="allow-all">
        <deny><void/></deny>
</filter>
</filters>
<regions>
<!--
 blue wool room protection (these are the wools blue has to get) 
-->
<union name="blue-wool-rooms">
<rectangle name="light-gray-room" min="-147,44" max="-135,74"/>
<rectangle name="yellow-room" min="-66,117" max="-36,129"/>
<rectangle name="green-room" min="33,44" max="45,74"/>
</union>
<apply block="only-blue" use="only-blue-usage">
<region name="blue-wool-rooms"/>
</apply>
<apply enter="only-blue" message="You may not enter your own wool room!">
<region name="blue-wool-rooms"/>
</apply>
<!--
 red wool room protection (these are the wools red has to get) 
-->
<union name="red-wool-rooms">
<rectangle name="orange-room" min="-147,-84" max="-135,-54"/>
<rectangle name="cyan-room" min="-66,-139" max="-36,-127"/>
<rectangle name="magenta-room" min="33,-84" max="45,-54"/>
</union>
<union name="build-ares">
        <rectangle min="-125,44" max="-135,74"/>
        <rectangle min="-65,107" max="-36,117"/>
        <rectangle min="23,74" max="33,44"/>
        <rectangle min="23,67" max="-125,51"/>
        <rectangle min="-16,-28" max="-86,18"/>
        <rectangle min="-59,107" max="-43,-117"/>
        <rectangle min="23,56" max="33,-84"/>
        <rectangle min="-36,-117" max="-66,-127"/>
        <rectangle min="-125,-84" max="-135,-54"/>
        <rectangle min="-125,-77" max="23,-61"/>
        <rectangle min="-43,76" max="-36,92"/>
        <rectangle min="-59,76" max="-66,92"/>
        <rectangle min="-59,-86" max="-66,-102"/>
        <rectangle min="-43,-86" max="-36,-102"/> 
    </union>
    <apply block="no-void" message="You may not break or place blocks in the void!">
    <complement>
        <rectangle name="playable" min="-152,-144" max="50,134"/>
        <region name="build-ares"/>
    </complement>
    </apply>
<rectangle name="playable" min="-152,-144" max="50,134"/>
<apply block="deny-all" message="You may not bridge behind the wizard houses!">
<rectangle name="west-side-story" min="-152,-28" max="-86,18"/>
<rectangle name="east-side-story" min="-16,-28" max="50,18"/>
</apply>
<apply block="only-red" use="only-red-usage">
<region name="red-wool-rooms"/>
</apply>
<apply enter="only-red" message="You may not enter your own wool room!">
<region name="red-wool-rooms"/>
</apply>
<!--  supply room protection  -->
<apply block="deny-all" message="You may not break or place blocks in the storage room!">
<union name="storage-rooms">
<cuboid name="blue-storage-room" min="-67,6,-102" max="-35,13,-87"/>
<cuboid name="blue-storage-room-stairs" min="-49,6,-87" max="-54,14,-73"/>
<cuboid name="red-storage-room" min="-67,6,77" max="-35,13,92"/>
<cuboid name="red-storage-room-stairs" min="-49,14,63" max="-53,6,77"/>
</union>
</apply>
<!--  no lava around the spawns  -->
<apply block-place="deny-lava" message="You may place lava around the spawn area!">
<complement>
<union name="no-lava">
<rectangle name="blue-no-lava-main" min="-67,-102" max="-35,-87"/>
<rectangle name="blue-no-lava-stairs" min="-49,-87" max="-54,-73"/>
<rectangle name="red-no-lava-main" min="-67,77" max="-35,92"/>
<rectangle name="red-no-lava-stairs" min="-49,63" max="-53,77"/>
</union>
<region name="storage-rooms"/>
</complement>
</apply>
<!--  prevent teams from entering each other's spawns  -->
<apply enter="only-red" message="You may not enter red's storage room!">
<region name="red-storage-room"/>
</apply>
<apply enter="only-blue" message="You may not enter blue's storage room!">
<region name="blue-storage-room"/>
</apply>
</regions>
<playable>
<region name="playable"/>
</playable>
<maxbuildheight>38</maxbuildheight>
<wools>
<wool team="red" color="orange">
<block location="-51,8,90"/>
</wool>
<wool team="red" color="cyan">
<block location="-52,9,90"/>
</wool>
<wool team="red" color="magenta">
<block location="-51,10,90"/>
</wool>
<wool team="blue" color="green">
<block location="-51,8,-101"/>
</wool>
<wool team="blue" color="silver">
<block location="-51,10,-101"/>
</wool>
<wool team="blue" color="yellow">
<block location="-52,9,-101"/>
</wool>
</wools>
</map>
